/*
 * Reset context so as to resume to regular parse loop
 * If unable to reset for resuming, answers false.
 *
 * Move checkpoint location, reset internal stacks and
 * decide which grammar goal is activated.
 */
protected boolean resumeAfterRecovery() {
	if(!this.methodRecoveryActivated && !this.statementRecoveryActivated) {
		
		// reset internal stacks 
		this.resetStacks();
		this.resetModifiers();
		
		/* attempt to move checkpoint location */
		if (!this.moveRecoveryCheckpoint()) {
			return false;
		}
	
		// only look for headers
		if (this.referenceContext instanceof CompilationUnitDeclaration){
			goForHeaders();
			this.diet = true; // passed this point, will not consider method bodies
			return true;
		}
		
		// does not know how to restart
		return false;
	} else if(!this.statementRecoveryActivated) {
		
		// reset internal stacks 
		this.resetStacks();
		this.resetModifiers();
		
		/* attempt to move checkpoint location */
		if (!this.moveRecoveryCheckpoint()) {
			return false;
		}
		
		// only look for headers
		goForHeaders();
		return true;
	} else {
		return false;
	}
}

