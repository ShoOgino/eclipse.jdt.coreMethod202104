	/*
	 * Update the classpath markers and cycle markers for the projects to update.
	 */
	private void updateClasspathMarkers() {
		try {
			if (!ResourcesPlugin.getWorkspace().isAutoBuilding()) {
				Iterator iterator = this.rootsToRefresh.iterator();
				while (iterator.hasNext()) {
					try {
						JavaProject project = (JavaProject)iterator.next();
						
						 // force classpath marker refresh
						project.getResolvedClasspath(
							true, // ignoreUnresolvedEntry
							true); // generateMarkerOnError
						
					} catch (JavaModelException e) {
						// project doesn't exist: ignore
					}
				}
			}
			if (!this.rootsToRefresh.isEmpty()){
				try {
					// update all cycle markers
					JavaProject.updateAllCycleMarkers();
				} catch (JavaModelException e) {
					// one of the projects doesn't exist: ignore
				}
			}				
		} finally {
			this.rootsToRefresh = new HashSet();
		}
	}

