/**
 * @see CreateTypeMemberOperation#generateElementDOM
 * @deprecated JDOM is obsolete
 */
// TODO - JDOM - remove once model ported off of JDOM
protected IDOMNode generateElementDOM() throws JavaModelException {
	IJavaElement[] children = getCompilationUnit().getChildren();
	//look for an existing package declaration
	for (int i = 0; i < children.length; i++) {
		if (children[i].getElementType() ==  IJavaElement.PACKAGE_DECLARATION) {
			IPackageDeclaration pck = (IPackageDeclaration) children[i];
			IDOMPackage pack = (IDOMPackage) ((JavaElement)pck).findNode(fCUDOM);
			if (!pack.getName().equals(fName)) {
				 // get the insertion position before setting the name, as this makes it a detailed node
				 // thus the start position is always 0
				DOMNode node = (org.eclipse.jdt.internal.core.jdom.DOMNode)pack;
				fInsertionPosition = node.getStartPosition();
				fReplacementLength = node.getEndPosition() - fInsertionPosition + 1;
				pack.setName(fName);
				fCreatedElement = (org.eclipse.jdt.internal.core.jdom.DOMNode)pack;
			} else {
				//equivalent package declaration already exists
				fCreationOccurred= false;
			}
			
			return null;
		}
	}
	IDOMPackage pack = (new DOMFactory()).createPackage();
	pack.setName(fName);
	return pack;
}

